<div>
    <div class="search-dropdown-box">
        <div class="tab-outer">
            <a class="tab-item" v-on:click="status = 0" v-bind:class="{ active: status == 0 }">全部活动</a>
            <a class="tab-item" v-on:click="status = 1" v-bind:class="{ active: status == 1 }">报名中</a>
            <a class="tab-item" v-on:click="status = 3" v-bind:class="{ active: status == 3 }">进行中</a>
            <a class="tab-item" v-on:click="status = 4" v-bind:class="{ active: status == 4 }">已结束</a>
        </div>
    </div>
    <div class="guild-wrapper">
        <div class="guild-item" v-for="act in result.data">
            <table>
                <colgroup>
                    <col style="width: 50px;" />
                </colgroup>
                <tr v-on:click="$root.openWindow(`https://${guild.id}.mwow.org`)">
                    <td>
                        <img v-if="act.raids == '1,2'" src="/assets/images/raid/1_2.png" />
                        <img v-else-if="act.raids == '3,4'" src="/assets/images/raid/3_4.png" />
                        <img v-else v-bind:src="'/assets/images/raid/' + act.raids.split(',')[0].trim() + '.jpg'">
                    </td>
                    <td>
                        <div class="first-line">
                            {{ act.name }}
                        </div>
                        <div class="subline">
                            <i class="fa fa-calendar"></i> {{ $root.moment(act.begin).format('MM月DD日 HH:mm') }}
                            &nbsp;
                            <i class="fa fa-home"></i> {{ act.guildName }} ({{ act.realm }} - {{ act.faction == 0 ? '联盟' : '部落' }})
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div class="guild-item" v-if="!result.data.length">
            <div class="text-center" style="line-height: 40px;">没有找到活动...</div>
        </div>
        <div class="guild-item" v-if="result && result.currentPage < result.totalPages - 1" v-on:click="next">
            <div class="text-center" style="line-height: 40px;">点击加载更多</div>
        </div>
    </div>
</div>